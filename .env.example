# ============================================
# GPUBROKER - Environment Variables Example
# ============================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!
#
# ⚠️  CRITICAL: API KEYS GO IN VAULT, NOT HERE!
# All provider API keys MUST be stored in HashiCorp Vault.
# See: infrastructure/vault/README.md
# ============================================

# ============================================
# VAULT CONFIGURATION (Required)
# ============================================
# After running init-vault.sh, get these from:
# /vault/config/approle-role-id.txt
# /vault/config/approle-secret-id.txt
VAULT_ADDR=http://localhost:28005
VAULT_ROLE_ID=your-role-id-from-vault-init
VAULT_SECRET_ID=your-secret-id-from-vault-init

# ============================================
# DATABASE CONFIGURATION
# ============================================
# All services consume these ports; keep them in the 28000+ range to avoid conflicts.
PORT_POSTGRES=28001
PORT_CLICKHOUSE_HTTP=28002
PORT_CLICKHOUSE_NATIVE=28003
PORT_REDIS=28004
PORT_VAULT=28005
PORT_KEYCLOAK=28006
PORT_KAFKA=28007
PORT_ZOOKEEPER=28008
PORT_AUTH=28020
PORT_PROVIDER=28021
PORT_KPI=28022
PORT_MATH=28023
PORT_PRICE_FEED=28024
PORT_WS_GATEWAY=28025
PORT_AI_ASSISTANT=28026
PORT_FRONTEND=28030
PORT_PROMETHEUS=28031
PORT_GRAFANA=28032
PORT_STORYBOOK=28033

DATABASE_URL=postgresql://gpubroker:gpubroker_dev_pass@localhost:${PORT_POSTGRES}/gpubroker_dev
CLICKHOUSE_URL=http://gpubroker:gpubroker_dev_pass@localhost:${PORT_CLICKHOUSE_HTTP}/gpubroker
REDIS_URL=redis://localhost:${PORT_REDIS}
MATH_CORE_URL=http://localhost:${PORT_MATH}
ENABLE_MATH_CORE_ENRICH=false

# ============================================
# SERVICE CONFIGURATION
# ============================================
LOG_LEVEL=INFO
ENVIRONMENT=development

# ============================================
# FRONTEND CONFIGURATION
# ============================================
NEXT_PUBLIC_PROVIDER_API_URL=http://localhost:${PORT_PROVIDER}
NEXT_PUBLIC_KPI_API_URL=http://localhost:${PORT_KPI}
NEXT_PUBLIC_PRICE_WS_URL=ws://localhost:${PORT_WS_GATEWAY}/ws
NEXT_PUBLIC_WS_URL=ws://localhost:${PORT_WS_GATEWAY}
KPI_API_URL=http://localhost:${PORT_KPI}
WEBSOCKET_GATEWAY_URL=ws://localhost:${PORT_WS_GATEWAY}/ws
AI_API_URL=http://localhost:${PORT_AI_ASSISTANT}

# Optional Kafka (price updates)
ENABLE_KAFKA=false
KAFKA_BROKER_URL=localhost:${PORT_KAFKA}
KAFKA_TOPIC_PRICE_UPDATES=price_updates

# AI Assistant (keys stored in Vault; do not set here)
LLM_PROVIDER=somagent
SOMA_AGENT_BASE=http://localhost:21016

# ============================================
# MONITORING & OBSERVABILITY
# ============================================
PROMETHEUS_URL=http://localhost:${PORT_PROMETHEUS}
GRAFANA_URL=http://localhost:${PORT_GRAFANA}

# ============================================
# ⚠️  DO NOT ADD API KEYS HERE!
# ============================================
# Provider API keys (RunPod, Vast.ai, AWS, etc.)
# must be stored in Vault using:
#   ./infrastructure/vault/scripts/store-secrets.sh
#
# Services will fetch them automatically via VaultClient.
# ============================================
